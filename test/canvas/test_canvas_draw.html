<!DOCTYPE html>
<html>
<head>
    <title>Skevaron</title>
    <script src="js/three.js"></script>
    <!-- 性能检测器 -->
    <script src="js/Stats.js"></script> 
    <!-- 创建菜单栏，控制场景中的各个参数调试场景 -->
    <script src="../js/dat.gui.js"></script>
    <style>
        #canvas3d{
            width: 100%;
            height: 300px;
        }
    </style>
</head>
<body>
    <canvas id="canvas">该浏览器不支持canvas，请升级或使用chrome浏览器</canvas>
<script>
var sun;
var earth;
var moon;
var ctx;

function init(){
    // initObject('sun');
    // initObject('earth');
    // initObject('moon');

    sun = new Image();
    earth = new Image();
    moon = new Image();

    sun.src = "./images/sun.jpg";
    sun.classList += 'sun';

    earth.src = "./images/earth.png";
    earth.classList += 'earth';

    moon.src = "./images/moon.png";
    moon.classList += 'moon';

    console.log(sun,'sun')

    var canvas = document.querySelector("#canvas");
    ctx = canvas.getContext("2d");

    sun.onload = function (){
        draw()
    }

}

// function initObject(name){
//     console.log(name,'11')
//     name = new Image();
//     name.src = "./images/"+name+".jpg";
//     name.classList += 'name';
    
//     console.log(name,'n')
//     return name;
// }
init();
function draw(){
    ctx.clearRect(0, 0, 300, 300); //清空所有的内容
    /*绘制 太阳*/
    ctx.drawImage(sun, 0, 0, 300, 300);

    ctx.save();
    ctx.translate(150, 150);

    //绘制earth轨道
    ctx.beginPath();
    // ctx.strokeStyle = "rgba(255,255,0,0.5)";

    ctx.strokeStyle = "rgba(255,255,0,0.5)";
    ctx.arc(0, 0, 100, 0, 2 * Math.PI)
    ctx.stroke()

    var time = new Date();
    // getSeconds();返回当前时间的秒值
    //getMilliseconds(); 返回当前时间的毫秒值
    //绘制地球
    ctx.rotate(2 * Math.PI / 60 * time.getSeconds() + 2 * Math.PI / 60000 * time.getMilliseconds())
    ctx.translate(100, 0);
    ctx.drawImage(earth, -12, -12)

    //绘制月球轨道
    ctx.beginPath();
    ctx.strokeStyle = "rgba(255,255,255,.3)";
    ctx.arc(0, 0, 40, 0, 2 * Math.PI);
    ctx.stroke();

    //绘制月球
    ctx.rotate(2 * Math.PI / 6 * time.getSeconds() + 2 * Math.PI / 6000 * time.getMilliseconds());
    ctx.translate(40, 0);
    ctx.drawImage(moon, -3.5, -3.5);
    ctx.restore();

    requestAnimationFrame(draw);
}
</script>

</body>
</html>

